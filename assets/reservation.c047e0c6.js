import{ah as m,$ as p,ai as c,aj as n}from"./index.117b2c87.js";const x=m("reservation",()=>{const i=p([]);async function r(t,o){var e,a;try{if(t._id===""){const{data:s}=await c.post("/reservations",t);i.push(s.result),n.create({message:"\u9810\u7D04\u6210\u529F",textColor:"primary",icon:"mdi-emoticon-happy-outline",color:"white"})}else{const{data:s}=await c.patch("/reservations/"+t._id,t),d=i.findIndex(l=>l._id===t._id);i[d]=s.result,n.create({message:"\u4FEE\u6539\u6210\u529F",textColor:"primary",icon:"mdi-emoticon-happy-outline",color:"white"})}}catch(s){n.create({message:"\u8CC7\u6599\u4E0A\u50B3\u5931\u6557",textColor:"secondary",color:"white",icon:"mdi-emoticon-dead-outline",caption:((a=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:a.message)||"\u767C\u751F\u932F\u8AA4"})}}return{reservations:i,submitReservation:r,getAllReservations:async()=>{var t,o;try{const{data:e}=await c.get("/reservations/all");i.splice(0,e.result.length,...e.result)}catch(e){n.create({message:"\u8CC7\u6599\u53D6\u5F97\u5931\u6557",textColor:"secondary",color:"white",icon:"mdi-emoticon-dead-outline",caption:((o=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:o.message)||"\u767C\u751F\u932F\u8AA4"})}},getMyReservation:async()=>{var t,o;try{const{data:e}=await c.get("/reservations/getmyreservation");i.splice(0,e.result.length,...e.result)}catch(e){n.create({message:"\u8CC7\u6599\u53D6\u5F97\u5931\u6557",textColor:"secondary",color:"white",icon:"mdi-emoticon-dead-outline",caption:((o=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:o.message)||"\u767C\u751F\u932F\u8AA4"})}},deleteReservation:async t=>{var o,e;try{await c.patch("/reservations/delete/"+t);const a=i.findIndex(s=>s._id===t);i.splice(a,1),n.create({message:"\u522A\u9664\u6210\u529F",textColor:"primary",icon:"mdi-emoticon-happy-outline",color:"white"})}catch(a){n.create({message:"\u8CC7\u6599\u522A\u9664\u5931\u6557",textColor:"secondary",color:"white",icon:"mdi-emoticon-dead-outline",caption:((e=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:e.message)||"\u767C\u751F\u932F\u8AA4"})}},deleteMyReservation:async t=>{var o,e;try{await c.patch("/reservations/delete/member/"+t);const a=i.findIndex(s=>s._id===t);i.splice(a,1),n.create({message:"\u522A\u9664\u6210\u529F",textColor:"primary",icon:"mdi-emoticon-happy-outline",color:"white"})}catch(a){n.create({message:"\u8CC7\u6599\u522A\u9664\u5931\u6557",textColor:"secondary",color:"white",icon:"mdi-emoticon-dead-outline",caption:((e=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:e.message)||"\u767C\u751F\u932F\u8AA4"})}}}});export{x as u};
