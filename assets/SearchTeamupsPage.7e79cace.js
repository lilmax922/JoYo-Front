import{a8 as T,r as v,$ as B,c as D,j as d,a0 as f,a1 as c,l as e,d as t,Y as m,aa as u,aq as I,k as p,a2 as g,F as x,ab as P,a5 as z,a6 as F,ar as L}from"./index.a99e079c.js";import{Q as b,a as N}from"./QBreadcrumbs.5fc166bf.js";import{Q as U}from"./QSelect.58b6b680.js";import{Q as E}from"./QChip.1b0ce41c.js";import{Q as $}from"./QPage.9e671939.js";import{_ as y}from"./lodash.2e479e42.js";import{u as j}from"./teamup.26c34571.js";import{T as A}from"./TeamupCard.b9d2fa8b.js";import"./format.3e32b8d9.js";const M={class:"container"},R={class:"breadcrumb"},Y={class:"header flex items-center q-mt-xl"},G=e("div",{class:"header-text text-h3 q-pr-lg"},"\u641C\u5C0B\u63EA\u5718",-1),H={class:"teamupList"},J={class:"search_container bg-dark row"},K={class:"col-sm-12 col-md-12"},O={class:"search-bar col-12 q-mb-sm"},W={class:"flex items-center q-mb-sm"},X=e("div",{class:"text-h6 q-ml-sm"},"\u95DC\u9375\u5B57\u641C\u5C0B",-1),Z={class:"game-types col-12 q-mb-sm"},ee={class:"flex items-center"},te=e("div",{class:"text-h6 q-ml-sm"},"\u559C\u6B61\u7684\u684C\u904A\u985E\u578B",-1),se={class:"row flex flex-center"},ae={class:"col-12"},oe={class:"cards_container"},le={class:"row q-mx-auto"},ve={__name:"SearchTeamupsPage",setup(ne){const _=j(),{getAllTeamups:q}=_,{teamups:Q}=T(_),r=v([]),V=["\u9663\u71DF","\u7B56\u7565","\u5FC3\u6A5F","\u62BD\u8C61","\u5361\u724C","\u6D3E\u5C0D","\u5BB6\u5EAD","\u5152\u7AE5"],l=v(""),k=new Date().toLocaleDateString(),n=B({types:["\u9663\u71DF","\u7B56\u7565","\u5FC3\u6A5F","\u62BD\u8C61","\u5361\u724C","\u6D3E\u5C0D","\u5BB6\u5EAD","\u5152\u7AE5"],date:k}),S=()=>{r.value=n.types.map(s=>s)},w=s=>{n.types.splice(s,1),r.value.splice(s,1)},C=D(()=>Q.value.filter(s=>{const o=(new Date(s.date).getMonth()+1).toString().padStart(2,"0"),a=new Date(s.date).getDate().toString().padStart(2,"0");return l.value===""?parseInt(y.intersection(s.types,n.types).length)!==0:parseInt(y.intersection(s.types,n.types).length)!==0&&(a.includes(l.value)||o.includes(l.value)||s.title.includes(l.value))}));return q(),(s,o)=>(d(),f($,{id:"searchTeamups",padding:""},{default:c(()=>[e("div",M,[e("div",R,[t(N,null,{separator:c(()=>[t(m,{size:"1.5em",name:"chevron_right"})]),default:c(()=>[t(b,{icon:"mdi-home",to:"/"}),t(b,{label:"\u641C\u5C0B\u63EA\u5718"})]),_:1})]),e("section",Y,[G,t(u,{class:"teamup_btn gt-sm",label:"\u6211\u8981\u63EA\u5718",to:"/teamup"})]),e("section",H,[e("div",J,[e("div",K,[e("div",O,[e("div",W,[t(m,{class:"q-pl-md",name:"mdi-text-search",size:"sm"}),X]),e("div",null,[t(I,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),name:"search",rounded:"",standout:"",placeholder:"\u8ACB\u8F38\u5165\u95DC\u9375\u5B57"},{append:c(()=>[t(u,{icon:"search",flat:"",rounded:""})]),_:1},8,["modelValue"])])]),e("div",Z,[e("div",ee,[t(m,{class:"q-pl-md",name:"mdi-tag",size:"sm"}),te]),e("div",se,[e("div",ae,[t(U,{modelValue:n.types,"onUpdate:modelValue":o[1]||(o[1]=a=>n.types=a),rounded:"",standout:"",multiple:"",options:V,label:"\u65B0\u589E\u6A19\u7C64","bottom-slots":""},{append:c(()=>[t(u,{round:"",dense:"",flat:"",icon:"add",onClick:S})]),_:1},8,["modelValue"])]),e("div",null,[(d(!0),p(x,null,g(r.value,(a,i)=>(d(),f(E,{key:i,modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=h=>r.value=h),color:"secondary","text-color":"white",clickable:"",icon:"mdi-close-circle","icon-color":"white",onClick:h=>w(i)},{default:c(()=>[z(F(a),1)]),_:2},1032,["modelValue","onClick"]))),128))])])])])]),e("div",oe,[e("div",le,[(d(!0),p(x,null,g(P(C),(a,i)=>(d(),p("div",{class:"col-12 col-md-6 col-lg-4 col-xl-3 flex flex-center q-mb-lg",key:i},[t(A,L({class:"teamup_card q-mb-lg"},a),null,16)]))),128))])])])])]),_:1}))}};export{ve as default};
